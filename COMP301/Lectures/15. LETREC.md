[[Lecture 15 -- LETREC.pdf]]
# PROC is dead! Long live LETREC!

## LETREC = PROC + RECURSION (via `LETREC`)

## What we want to implement:
```
letrec double(x)
	= if zero?(x) then 0 
		else -((double - (x,1)), -2)
in (double 6)
```
## Steps
1) Define the grammar
```r
Expression ::= letrec Identifier (Identifier) = Expression in Expression
			   letrec-exp (p-name b-var p-body letrec-body)
```
1st line is defined through the `the-lexical-spec` part of the lang.rkt, the ssl gen library parses the string and returns the proper data.
2nd line is defined in the `the-grammar` part of the lang.rkt.

2) The environment must be updated to be extended recursively.

![[Pasted image 20240115132416.png|550]]
![[Pasted image 20240115132441.png|550]]
